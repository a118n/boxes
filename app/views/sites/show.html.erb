<div class="container center-align">
  <div class="row">
    <div class="col s12">
      <div class="card hoverable">
        <div class="card-content">

          <span class="card-title">

            <i class="material-icons left">domain</i>

            <!-- Site name -->
            <%= @site.name %>

            <!-- Dots Dropdown -->
            <a class="dropdown-button right" href="#!" data-activates="dropdown-site-<%= @site.id %>" data-constrainwidth="false">
              <i class="material-icons black-text">more_vert</i>
            </a>

            <!-- Dropdown Structure -->
            <ul id="dropdown-site-<%= @site.id %>" class="dropdown-content" style="min-width: 150px;">

              <!-- Edit site button-->
              <li>
                <%= link_to edit_site_path(@site) do %>
                  <i class="material-icons left">edit</i>
                  Edit site
                <% end %>
              </li>

            </ul>

          </span>

          <table class="highlight">
            <thead>
              <tr>
                <th>Location</th>
                <th>Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td><%= @site.location %></td>
                <td><%= @site.description %></td>
              </tr>
            </tbody>
          </table>

          <ul class="collapsible popout" data-collapsible="expandable">

            <% if @site.devices.any? %>

              <li>
                <div class="collapsible-header">
                  <i class="material-icons">print</i>Devices
                </div>

                <div class="collapsible-body" style="margin-left: 15px; margin-right: 15px;">
                  <table class="highlight">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Model</th>
                        <th>State</th>
                        <th>Location</th>
                        <th>Serial Number</th>
                        <th>WebUI</th>
                      </tr>
                    </thead>

                    <tbody>
                      <% @site.devices.each do |device| %>
                        <tr>
                          <td><%= link_to device.name, device_path(device) %></td>
                          <td><%= device.devtype %></td>
                          <td><%= device.model %></td>
                          <td><%= device.state %></td>
                          <td><%= device.location %></td>
                          <td><%= device.sn %></td>
                          <td><%= link_to "Open", "http://" + device.ip %></td>
                        </tr>
                      <% end %>
                    </tbody>
                  </table>
                </div>
              </li>

            <% end %>

            <% if @site.supplies.any? %>

              <li>
                <div class="collapsible-header">
                  <i class="material-icons">web_asset</i>Supplies
                </div>

                <div class="collapsible-body" style="margin-left: 15px; margin-right: 15px;">
                  <table class="highlight">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Quantity</th>
                      </tr>
                    </thead>

                    <tbody>
                      <% @site.supplies.each do |supply| %>
                        <tr>
                          <td><%= supply.name %></td>
                          <td><%= supply.description %></td>
                          <td><%= supply.quantity %></td>
                        </tr>
                      <% end %>
                    </tbody>
                  </table>
                </div>
              </li>

            <% end %>

          </ul>

        </div>  <!-- Card content -->

      </div>  <!-- Card -->
    </div>

  </div>

  <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
   <a class="btn-floating btn-large red">
     <i class="material-icons">add</i>
   </a>
   <ul>
    <li>
      <a class="btn-floating green tooltipped" data-position="left" data-delay="50" data-tooltip="Add Supply"><i class="material-icons">web_asset</i></a>
    </li>
    <li>
      <a class="btn-floating blue tooltipped" data-position="left" data-delay="50" data-tooltip="Add Device"><i class="material-icons">print</i></a>
    </li>
   </ul>
  </div>

</div>
